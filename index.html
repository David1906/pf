<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boda Pamela Y Fernando</title>
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./src/static/icons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="./src/static/icons/favicon-96x96.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./src/static/icons/favicon-16x16.png"
    />
    <link rel="manifest" href="/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="stylesheet" href="./src/styles/main.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/css/splide.min.css"
    />
  </head>
  <body>
    <header class="header">
      <a class="header__logo" href="/index.html">
        <img src="./src/static/img/logo.png" alt="PF"
      /></a>
      <img class="header__menu" src="./src/static/img/hamburger.png" alt="PF" />
    </header>
    <main>
      <article class="hero">
        <div class="splide">
          <div class="splide__track">
            <ul class="splide__list">
              <li class="splide__slide">
                <img
                  src="https://ik.imagekit.io/cn7lhzxdahe/Pf/min_portada1_D1K_1iJWDs.jpg"
                  alt=""
                />
              </li>
              <li class="splide__slide">
                <img
                  src="https://ik.imagekit.io/cn7lhzxdahe/Pf/min_Portada2_-fgTTFKI78.jpg"
                  alt=""
                />
              </li>
              <li class="splide__slide">
                <img
                  src="https://ik.imagekit.io/cn7lhzxdahe/Pf/min_Portada3_f5uaIRp9oDq.jpg"
                  alt=""
                />
              </li>
              <!-- <li class="splide__slide">
                <img
                  src="https://ik.imagekit.io/cn7lhzxdahe/Pf/min_Portada4_q9hwWin4t.jpg"
                  alt=""
                />
              </li> -->
            </ul>
          </div>
        </div>
        <div class="hero__names">
          Pamela & Fernando
          <span>17 Septiembre 2021</span>
        </div>
        <div class="countdown container">
          <div id="cdDays" class="countdown__digit">
            <span>00</span>
            <div class="countdown__text">Dias</div>
          </div>
          <span>:</span>
          <div id="cdHours" class="countdown__digit">
            <span>00</span>
            <div class="countdown__text">Horas</div>
          </div>
          <span>:</span>
          <div id="cdMinutes" class="countdown__digit">
            <span>00</span>
            <div class="countdown__text">Minutos</div>
          </div>
          <span>:</span>
          <div id="cdSeconds" class="countdown__digit">
            <span>00</span>
            <div class="countdown__text">Segundos</div>
          </div>
        </div>
      </article>
      <article class="article container">
        <h2 class="article__title">¡Nos Casamos!</h2>
        <img
          src="./src/static/img/spouses/Fotovideo2.jpg"
          alt="Novios corazón"
        />
        <button class="button button__play"></button>
        <p>
          Cada día, hasta llegar a este momento en el cual decidimos unir
          nuestras vidas en matrimonio para siempre. Así comenzamos una nueva
          etapa, llenos de alegría. Seguramente habrá momentos de caos y
          tristeza, pero será este mismo amor el que nos hará fuertes y nos
          permitirá afrontar todos los desafíos que se presenten en el camino.
          Por ahora nuestra vida se encuentra completa y estamos listos para
          compartirla juntos…
          <br />
        </p>
        <blockquote>
          Cuando te das cuenta que quieres pasar el resto de la vida con
          alguien, deseas que el resto de la vida inicie lo antes posible
        </blockquote>
        <button onclick="location.href='/detail.html'">
          Ver detalles del evento
        </button>
      </article>
    </main>
    <div id="video" class="video" style="display: none">
      <iframe
        title="vimeo-player"
        src="https://player.vimeo.com/video/570706511"
        frameborder="0"
        autoplay="1"
        allowfullscreen
      ></iframe>
      <button class="button button__close"></button>
    </div>
    <aside class="aside">
      <div class="aside__content">
        <div class="aside__header">
          <img src="./src/static/img/logo_green.png" alt="logos" />
          <img
            class="aside__close"
            src="./src/static/img/close.png"
            alt="close"
          />
        </div>
        <nav>
          <ul>
            <li>
              <a onclick="closeAside()" href="./detail.html">Lugar</a>
            </li>
            <li>
              <a onclick="closeAside()" href="./detail.html#vestimenta"
                >Código de vestimenta</a
              >
            </li>
            <li>
              <a onclick="closeAside()" href="./detail.html#itinerario"
                >Itinerario</a
              >
            </li>
            <li>
              <a onclick="closeAside()" href="./detail.html#mesa"
                >Mesa de regalos</a
              >
            </li>
            <li>
              <a onclick="closeAside()" href="./detail.html#gallery">Galería</a>
            </li>
            <li>
              <a onclick="closeAside()" href="./schedule.html"
                >Confirmar asistencia</a
              >
            </li>
          </ul>
        </nav>
      </div>
    </aside>

    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/js/splide.min.js"></script>
    <script>
      const $days = document.getElementById("cdDays").firstElementChild;
      const $hours = document.getElementById("cdHours").firstElementChild;
      const $minutes = document.getElementById("cdMinutes").firstElementChild;
      const $seconds = document.getElementById("cdSeconds").firstElementChild;

      // Set the date we're counting down to
      var countDownDate = new Date("Sep 17, 2021 19:00:00").getTime();

      // Countdown function.
      function countdown() {
        // Get today's date and time
        var now = new Date().getTime();

        // Find the distance between now and the count down date
        var distance = countDownDate - now;

        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        if (distance < 0) {
          clearInterval(x);
          days = 0;
          hours = 0;
          minutes = 0;
          seconds = 0;
        }

        // Display the result in the element with id="demo"
        $days.innerText = `${days}`.padStart(2, "0");
        $hours.innerText = `${hours}`.padStart(2, "0");
        $minutes.innerText = `${minutes}`.padStart(2, "0");
        $seconds.innerText = `${seconds}`.padStart(2, "0");
      }

      // Update the count down every 1 second
      var x = setInterval(countdown, 1000);

      // Aside

      const aside = document.querySelector(".aside");

      function closeAside() {
        aside.classList.remove("aside--show");
        aside.classList.add("aside--hide");
      }

      aside.addEventListener("animationend", (e) => {
        if (e.animationName === "hideNav" && e.pseudoElement === "::before") {
          aside.classList.remove("aside--hide");
        }
      });

      const btnClose = document.querySelector(".aside__close");
      btnClose.addEventListener("click", closeAside);

      const btnMenu = document.querySelector(".header__menu");
      btnMenu.addEventListener("click", () => {
        aside.classList.add("aside--show");
        aside.classList.remove("aside--hide");
      });

      document.addEventListener("DOMContentLoaded", function () {
        new Splide(".splide", {
          type: "fade",
          arrows: false,
          autoplay: true,
          rewind: true,
          interval: 10000,
          speed: 1000,
          drag: true,
          pagination: false,
        }).mount();
      });
      //

      const $video = document.getElementById("video");
      const $iframe = $video.firstElementChild.contentWindow;
      const $btnPlay = document.querySelector("button.button__play");

      // Cerrar modal de video.
      $video.addEventListener("click", () => {
        $video.style.display = "none";
        $iframe.postMessage('{"method":"pause"}', "*");
      });

      // Abrir modal de video.
      $btnPlay.addEventListener("click", () => {
        $video.style.display = null;
        $iframe.postMessage('{"method":"play"}', "*");
      });
    </script>
  </body>
</html>
